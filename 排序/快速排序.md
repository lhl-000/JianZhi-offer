```
//普通快排
var quickSort = function(arr : number[], low : number,  high : number) : void
{
    if (high < low ) {
        return;
    }
    let pa : number = partition(arr, low, high);
    quickSort(arr, low, pa - 1);
    quickSort(arr, pa + 1, low);
}

var partition = function (arr : number[], low : number,  high : number) : number 
{
    let v : number[] = arr[low]
    let i : number = low;
    let j : number = high + 1;
    while (true) {
        while (arr[++i] < v) if (i == high) break;
        while (arr[--j] > v) if (j == low) break;
        if (i >= j) break;
        swap(a , i , j);
    }
    swap(a , low, j)
    return j;
}

//三向切分

var Quick3way = function(arr : number[], low : number,  high : number) : void 
{
    if (high <= low) return;
    let lt : number = low, i : number = low + 1, gt : number = high;
    v : number = arr[low];
    while (i <= gt) {
        let cmp : number = arr[i] - v;
        if (cmp < 0) swap(arr, lt++, i++);
        else if (cmp > 0) swap(arr, i, gt--);
        else i++;
    }
    Quick3way(arr ,lo ,lt -1);
    Quick3way(arr, gt + 1, hi);
}
```



```
public int partition(int[] arr, int low, int high)
{
    int i = low, j = high + 1, v = arr[0];
    while (true) {
        while (arr[++i] < v) if (i == high) break;
        while (arr[--j]) > v) if (j == low) break;
        if (i >= j)  break;
        swap(arr, i, j);
    }
    swap(arr, low , j);
    return j;
}

public void Quick3way(int[] arr, int low, int high)
{
    if (low >= high) return;
    int i = low + 1, lt =  low, gt = high, v = arr[0];
    while (i <= gt) {
        let cmp = arr[i] - v;
        if (cmp > 0) swap(arr, i, gt--);
        else if (cmp < 0) swap(arr, i++, lt++)
        else i++;
    }
    Quick3way(arr, low, lt - 1);
    Quick3way(arr, gt + 1, high);
}
```

function quickSort3Way(arr, low, high) {
    if (low > high) return;
    let lt = low;
    let index = low + 1;
    let gt = high;
    let v = arr[0];
    while(i <= gt) {
        let cmp = arr[i] - v;
        if (cmp < 0) swap(arr, lt++, index++);
        else if (cmp > 0) swap(arr, index, gt--);
        else i++;
    }
    Quick3way(arr, low, lt - 1);
    Quick3way(arr, gt + 1, high);
}
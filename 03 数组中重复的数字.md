# 03 数组中重复的数字

### 题目

在一个长度为 n 的数组 nums 里的所有数字都在 0 ～ n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。

### 解答

##### 1.使用 hashset (时间复杂度 O(n) 空间复杂度 O(n))

```
/*JAVA*/
class Solution {
    public int findRepeatNumber(int[] nums) {
        HashSet<Integer> set = new HashSet<Integer>();
        for (int i=0; i<nums.length; i++) {
            if (set.contains(nums[i])) {
                return nums[i];
            }
            set.add(nums[i]);
        }
        return -1;
        }
}
/*JS*/
function findRepeatNumber(nums) {
    var set = new Set();
    for (var i of nums) {
            if (set.has(i)) {
                return i;
            }
            set.add(i);
        }
        return -1;
    }
```
#### 2.原地置换 (时间复杂度O(n) 空间复杂度为o(1))

利用题目中显示nums里所有的数字都在0-n-1的范围内的条件，大概的思路就是，因为给定的数组是0-n-1这个范围内，一旦遇到重复的数字，那么在同一个位置就会发生碰撞，我们就可以检测出重复的数字。

```
function findRepeatNumber(nums) {
    for (let i=0; i<nums.length; i++) {
       while (nums[i] != i) {
           if (nums[i] == nums[nums[i]]) {
               return nums[i];
           }
           let tmp = nums[i];
           nums[i] = nums[tmp];
           nums[tmp] = tmp;
       }
    }
    return -1;
    }
```

### 进阶
不修改数组，不使用额外的空间

#### 二分查找法

```
function  findRepeatNumber(nums) {
    let start  = 1;
    let end = nums.length - 1;
    while (start < end) {
        let middle = ((end - start)>>1) + start;
        let count = countNumber(nums, start, end);
        if (count > middle - start + 1) {
            end = middle;
        }
        else (
            start = middle + 1;
        )
    }
    return end;
}

function countNumber(nums, start, end) {
    let count = 0;
    for (let i=0; i<nums.lenght; i++) {
        if (nums[i] <= end && nums[i] >= start) {
            count++;
        }
    }
    return count;
}
```


# 05 替换空格

### 题目

请实现一个函数，把字符串 s 中的每个空格替换成"%20"。

### 解答

##### 1.使用 StringBuilder新建字符串 (时间复杂度 O(n) 空间复杂度 O(n))

```
/*JAVA*/
class Solution {
    public String replaceSpace(String s) {
        if (s == null || s.length() == 0) {
            return "";
        } 
        StringBuilder sb = new StringBuilder();
        char tmp;
        for (int i=0; i<s.length(); i++) {
            if ((tmp=s.charAt(i)) == ' ') {
                sb.append("%20");
            }
            else {
                sb.append(tmp);
            }
        }
        return sb.toString();
    }
}
/*JS*/
function replaceSpace(s) {
    if (s == null || s.length == 0) {
        return "";
    }
    var ns = "";
    for (let c of s) {
        if (c == " ") {
            ns += "%20";
        }
        else {
            ns += c;
        }
    }
    return ns;
};
```
#### 2.在原来的字符串中进行转换 (时间复杂度O(n) 空间复杂度为o(1))

利用题目中显示nums里所有的数字都在0-n-1的范围内的条件，大概的思路就是，因为给定的数组是0-n-1这个范围内，一旦遇到重复的数字，那么在同一个位置就会发生碰撞，我们就可以检测出重复的数字。

```
function findRepeatNumber(nums) {
    for (let i=0; i<nums.length; i++) {
       while (nums[i] != i) {
           if (nums[i] == nums[nums[i]]) {
               return nums[i];
           }
           let tmp = nums[i];
           nums[i] = nums[tmp];
           nums[tmp] = tmp;
       }
    }
    return -1;
    }
```

### 进阶
不修改数组，不使用额外的空间

#### 二分查找法

```
function  findRepeatNumber(nums) {
    let start  = 1;
    let end = nums.length - 1;
    while (start < end) {
        let middle = ((end - start)>>1) + start;
        let count = countNumber(nums, start, end);
        if (count > middle - start + 1) {
            end = middle;
        }
        else (
            start = middle + 1;
        )
    }
    return end;
}

function countNumber(nums, start, end) {
    let count = 0;
    for (let i=0; i<nums.lenght; i++) {
        if (nums[i] <= end && nums[i] >= start) {
            count++;
        }
    }
    return count;
}
```


# 14 剪绳子

### 题目

实现 pow(x, n) ，即计算 x 的 n 次幂函数（即，xn）。不得使用库函数，同时不需要考虑大数问题。



### 解答


##### 1. 循环遍历
```
/Java/
class Solution {
    public double myPow(double x, int n) {
        if (Math.abs(x - 1) < 0.00000001) {
                return 1;
            } 
        if (Math.abs(x + 1) < 0.00000001){
            if (n % 2 == 0){
                return 1;
            } else {
                return -1;
            }
        }
        if (x > 0) {
            return positivePow(x, n);
        } else {
            if (n % 2 == 0) {
                return positivePow(-x, n);
            } else {
                return -positivePow(-x, n);
            }
        }
    }

    public double positivePow(double x, int n) {
                double result = x;
        if (n == 0) {
            return 1;
        } else if (n < 0) {
            for (int i=0; i<-(n+1); i++) {
            if (result > 100000) {
                return 0;
            }
            result *= x;
        }
            return 1/result;
        } else {
            for (int i=0; i<(n-1); i++) {
            if (result < 0.00001) {
                return 0;
            }
            result *= x;
            }
            return result;
        }
    }
}
```

##### 2. 幂指数二分法
```
/Java/
class Solution {
    public double myPow(double x, int n) {
        if (n == 0) {
            return 1;
        } else if (n > 0) {
            return reversePow(x, n);
        } else {
            return reversePow(1/x, n);
        }
    }

    public double reversePow(double x, int n) {
     if (n == 0) {
         return 1;
     } 
     if (n == 1) {
         return x;
     }
     double result = reversePow(x, n/2);
     result *= result;
     if ((n & 0x1) == 1) {
         result *= x;
     }
     return result;
    }
}
/js/
/**
 * @param {number} x
 * @param {number} n
 * @return {number}
 */
var myPow = function(x, n) {
    if (n == 0) {
        return 1;
    } else if (n > 0) {
        return reversePow(x, n);
    } else {
        return reversePow(1/x, n);
    }
};

var reversePow = function(x, n) {
    if (n == 0) {
        return 1;
    }
    if (n == 1) {
        return x;
    }
    var result = reversePow(x, n/2);
    result *= result
    if ((n & 0x1) == 1) {
        result *= x;
    }
    return result;
}
```
